<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中国朝代变迁史</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Noto Sans SC', sans-serif;
        }
        
        .dynasty-card {
            transition: all 0.3s ease;
        }
        
        .dynasty-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .timeline-line {
            background: linear-gradient(to bottom, #3b82f6, #8b5cf6, #ef4444);
        }
        
        .dynasty-timeline-item {
            position: relative;
        }
        
        .dynasty-timeline-item::before {
            content: '';
            position: absolute;
            left: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: white;
            border: 3px solid #3b82f6;
            z-index: 10;
        }
        
        .active-dynasty::before {
            background: #3b82f6;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen">
    <!-- 头部 -->
    <header class="bg-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <h1 class="text-4xl font-bold text-center text-gray-800">中国朝代变迁史</h1>
            <p class="text-center text-gray-600 mt-2">探索五千年华夏文明的兴衰更替</p>
        </div>
    </header>

    <!-- 主要内容 -->
    <main class="container mx-auto px-4 py-8">
        <!-- 时间线视图切换按钮 -->
        <div class="flex justify-center mb-8">
            <div class="bg-white rounded-lg shadow-md p-1">
                <button id="timelineBtn" class="px-6 py-2 rounded-md bg-blue-500 text-white font-medium transition-colors">
                    时间线视图
                </button>
                <button id="gridBtn" class="px-6 py-2 rounded-md text-gray-600 hover:bg-gray-100 font-medium transition-colors">
                    网格视图
                </button>
            </div>
        </div>

        <!-- 时间线视图 -->
        <div id="timelineView" class="relative">
            <!-- 时间线主线 -->
            <div class="absolute left-8 top-0 bottom-0 w-1 timeline-line"></div>
            
            <!-- 朝代时间线项目 -->
            <div id="timelineContainer" class="space-y-8 pl-20">
                <!-- 动态生成朝代项目 -->
            </div>
        </div>

        <!-- 网格视图 -->
        <div id="gridView" class="hidden">
            <div id="gridContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                <!-- 动态生成朝代卡片 -->
            </div>
        </div>

        <!-- 朝代详情模态框 -->
        <div id="dynastyModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
            <div class="bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto">
                <div class="p-6">
                    <div class="flex justify-between items-start mb-4">
                        <h2 id="modalTitle" class="text-3xl font-bold text-gray-800"></h2>
                        <button id="closeModal" class="text-gray-500 hover:text-gray-700 text-2xl font-bold">×</button>
                    </div>
                    <div id="modalContent" class="space-y-4">
                        <!-- 动态内容 -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // 朝代数据
        const dynasties = [
            {
                name: "夏朝",
                period: "约前21世纪-前16世纪",
                duration: "约500年",
                capital: "阳城、斟鄩等",
                founder: "禹",
                color: "bg-yellow-500",
                description: "中国历史上第一个朝代，标志着中国进入奴隶社会。",
                achievements: [
                    "建立了中国第一个王朝制度",
                    "制定了历法",
                    "发展了青铜器制造技术",
                    "建立了贡赋制度"
                ],
                famousRulers: ["禹", "启", "太康", "桀"],
                endReason: "桀王暴政，被商汤推翻"
            },
            {
                name: "商朝",
                period: "约前16世纪-前11世纪",
                duration: "约600年",
                capital: "亳、殷等",
                founder: "汤",
                color: "bg-orange-500",
                description: "中国第一个有直接文字记载的朝代，甲骨文的发源地。",
                achievements: [
                    "创造了甲骨文，是汉字的早期形式",
                    "青铜器制造达到高峰",
                    "建立了完善的祭祀制度",
                    "发展了天文历法"
                ],
                famousRulers: ["汤", "太甲", "武丁", "纣王"],
                endReason: "纣王暴政，被周武王推翻"
            },
            {
                name: "西周",
                period: "前11世纪-前771年",
                duration: "约300年",
                capital: "镐京",
                founder: "周武王",
                color: "bg-green-500",
                description: "建立了分封制和宗法制，奠定了中国古代政治制度基础。",
                achievements: [
                    "建立分封制和宗法制",
                    "制定周礼，规范社会秩序",
                    "发展了农业和手工业",
                    "创作了《诗经》等文学作品"
                ],
                famousRulers: ["周武王", "周成王", "周康王", "周幽王"],
                endReason: "周幽王烽火戏诸侯，被犬戎攻破"
            },
            {
                name: "东周",
                period: "前770年-前256年",
                duration: "514年",
                capital: "洛邑",
                founder: "周平王",
                color: "bg-teal-500",
                description: "分为春秋和战国两个时期，思想文化空前繁荣。",
                achievements: [
                    "春秋五霸争雄",
                    "战国七雄并立",
                    "诸子百家思想繁荣",
                    "铁器和牛耕推广"
                ],
                famousRulers: ["周平王", "周敬王", "周赧王"],
                endReason: "被秦国灭亡"
            },
            {
                name: "秦朝",
                period: "前221年-前206年",
                duration: "15年",
                capital: "咸阳",
                founder: "秦始皇",
                color: "bg-red-500",
                description: "中国历史上第一个统一的中央集权国家。",
                achievements: [
                    "统一六国，建立中央集权制",
                    "统一文字、货币、度量衡",
                    "修建万里长城",
                    "建立郡县制"
                ],
                famousRulers: ["秦始皇", "秦二世"],
                endReason: "秦二世暴政，陈胜吴广起义"
            },
            {
                name: "西汉",
                period: "前206年-8年",
                duration: "214年",
                capital: "长安",
                founder: "刘邦",
                color: "bg-blue-500",
                description: "汉朝前期，国力强盛，开辟了丝绸之路。",
                achievements: [
                    "实行休养生息政策",
                    "开辟丝绸之路",
                    "推行郡国并行制",
                    "独尊儒术"
                ],
                famousRulers: ["刘邦", "汉文帝", "汉武帝", "汉昭帝"],
                endReason: "王莽篡汉"
            },
            {
                name: "新朝",
                period: "8年-23年",
                duration: "15年",
                capital: "长安",
                founder: "王莽",
                color: "bg-purple-500",
                description: "王莽建立的短暂朝代，推行激进改革。",
                achievements: [
                    "推行土地改革",
                    "改革货币制度",
                    "推广新的政治制度"
                ],
                famousRulers: ["王莽"],
                endReason: "改革失败，绿林赤眉起义"
            },
            {
                name: "东汉",
                period: "25年-220年",
                duration: "195年",
                capital: "洛阳",
                founder: "刘秀",
                color: "bg-indigo-500",
                description: "汉朝后期，科技文化发达，佛教传入中国。",
                achievements: [
                    "发明造纸术",
                    "佛教传入中国",
                    "天文学发达",
                    "医学进步"
                ],
                famousRulers: ["刘秀", "汉明帝", "汉和帝", "汉献帝"],
                endReason: "黄巾起义，三国鼎立"
            },
            {
                name: "三国",
                period: "220年-280年",
                duration: "60年",
                capital: "洛阳、建康、成都",
                founder: "曹丕、刘备、孙权",
                color: "bg-pink-500",
                description: "魏、蜀、吴三国鼎立的分裂时期。",
                achievements: [
                    "军事技术发展",
                    "文学艺术繁荣",
                    "农业技术改进",
                    "对外交流增加"
                ],
                famousRulers: ["曹操", "刘备", "孙权", "诸葛亮"],
                endReason: "司马炎统一三国"
            },
            {
                name: "西晋",
                period: "266年-316年",
                duration: "50年",
                capital: "洛阳",
                founder: "司马炎",
                color: "bg-gray-500",
                description: "短暂的统一王朝，后因八王之乱而衰落。",
                achievements: [
                    "短暂统一全国",
                    "经济恢复发展",
                    "文化艺术发展"
                ],
                famousRulers: ["司马炎", "司马衷"],
                endReason: "八王之乱，五胡乱华"
            },
            {
                name: "东晋",
                period: "317年-420年",
                duration: "103年",
                capital: "建康",
                founder: "司马睿",
                color: "bg-yellow-600",
                description: "晋朝南迁后的政权，与北方少数民族政权并立。",
                achievements: [
                    "书法艺术达到高峰",
                    "文学发展繁荣",
                    "佛教广泛传播",
                    "科技继续发展"
                ],
                famousRulers: ["司马睿", "司马绍", "司马昱"],
                endReason: "被刘裕建立的宋朝取代"
            },
            {
                name: "南北朝",
                period: "420年-589年",
                duration: "169年",
                capital: "建康、洛阳等",
                founder: "刘裕等",
                color: "bg-green-600",
                description: "南北分裂对峙的时期，民族融合加强。",
                achievements: [
                    "民族大融合",
                    "佛教石窟艺术繁荣",
                    "农业技术改进",
                    "文学艺术发展"
                ],
                famousRulers: ["刘裕", "萧道成", "陈霸先", "拓跋珪"],
                endReason: "隋文帝统一南北"
            },
            {
                name: "隋朝",
                period: "581年-618年",
                duration: "37年",
                capital: "大兴城",
                founder: "杨坚",
                color: "bg-red-600",
                description: "结束了长期分裂，重新统一中国。",
                achievements: [
                    "统一南北中国",
                    "开凿大运河",
                    "建立科举制",
                    "经济文化发展"
                ],
                famousRulers: ["杨坚", "杨广"],
                endReason: "杨广暴政，农民起义"
            },
            {
                name: "唐朝",
                period: "618年-907年",
                duration: "289年",
                capital: "长安",
                founder: "李渊",
                color: "bg-orange-600",
                description: "中国历史上最强盛的朝代之一，文化空前繁荣。",
                achievements: [
                    "经济文化高度繁荣",
                    "诗歌艺术达到顶峰",
                    "对外交流频繁",
                    "科技发明众多"
                ],
                famousRulers: ["李渊", "李世民", "武则天", "李隆基"],
                endReason: "黄巢起义，藩镇割据"
            },
            {
                name: "五代十国",
                period: "907年-960/979年",
                duration: "53-72年",
                capital: "开封、金陵等",
                founder: "朱温等",
                color: "bg-gray-600",
                description: "唐朝灭亡后的分裂割据时期。",
                achievements: [
                    "地方经济发展",
                    "文化艺术继续发展",
                    "科技发明增多",
                    "商业贸易繁荣"
                ],
                famousRulers: ["朱温", "李存勖", "石敬瑭", "柴荣"],
                endReason: "赵匡胤建立宋朝"
            },
            {
                name: "北宋",
                period: "960年-1127年",
                duration: "167年",
                capital: "开封",
                founder: "赵匡胤",
                color: "bg-blue-600",
                description: "重文轻武，经济文化高度发达的朝代。",
                achievements: [
                    "四大发明完善",
                    "理学思想形成",
                    "商品经济发达",
                    "文学艺术繁荣"
                ],
                famousRulers: ["赵匡胤", "赵光义", "赵恒", "赵祯"],
                endReason: "金军南下，靖康之耻"
            },
            {
                name: "南宋",
                period: "1127年-1279年",
                duration: "152年",
                capital: "临安",
                founder: "赵构",
                color: "bg-teal-600",
                description: "偏安江南的宋朝政权，文化科技继续发展。",
                achievements: [
                    "理学思想成熟",
                    "科技发明推广",
                    "海外贸易发达",
                    "文学艺术精湛"
                ],
                famousRulers: ["赵构", "赵昚", "赵扩", "赵昺"],
                endReason: "被蒙古军队灭亡"
            },
            {
                name: "元朝",
                period: "1271年-1368年",
                duration: "97年",
                capital: "大都",
                founder: "忽必烈",
                color: "bg-purple-600",
                description: "蒙古族建立的统一王朝，疆域空前辽阔。",
                achievements: [
                    "疆域空前辽阔",
                    "民族融合加强",
                    "对外交流频繁",
                    "戏曲艺术繁荣"
                ],
                famousRulers: ["忽必烈", "铁穆耳", "妥欢帖睦尔"],
                endReason: "红巾军起义，朱元璋建明"
            },
            {
                name: "明朝",
                period: "1368年-1644年",
                duration: "276年",
                capital: "南京、北京",
                founder: "朱元璋",
                color: "bg-red-700",
                description: "汉族重新建立的统一王朝，对外进行了大规模海上探险。",
                achievements: [
                    "郑和下西洋",
                    "建造紫禁城",
                    "编撰永乐大典",
                    "小说戏曲繁荣"
                ],
                famousRulers: ["朱元璋", "朱棣", "朱厚照", "朱由检"],
                endReason: "李自成起义，清军入关"
            },
            {
                name: "清朝",
                period: "1636年-1912年",
                duration: "276年",
                capital: "北京",
                founder: "皇太极",
                color: "bg-indigo-700",
                description: "中国历史上最后一个封建王朝，满族建立。",
                achievements: [
                    "疆域辽阔稳定",
                    "人口大幅增长",
                    "文化艺术发展",
                    "统一多民族国家"
                ],
                famousRulers: ["皇太极", "顺治", "康熙", "雍正", "乾隆"],
                endReason: "辛亥革命，共和制建立"
            }
        ];

        // DOM 元素
        const timelineBtn = document.getElementById('timelineBtn');
        const gridBtn = document.getElementById('gridBtn');
        const timelineView = document.getElementById('timelineView');
        const gridView = document.getElementById('gridView');
        const timelineContainer = document.getElementById('timelineContainer');
        const gridContainer = document.getElementById('gridContainer');
        const dynastyModal = document.getElementById('dynastyModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalContent = document.getElementById('modalContent');
        const closeModal = document.getElementById('closeModal');

        // 初始化页面
        function init() {
            renderTimeline();
            renderGrid();
            bindEvents();
        }

        // 渲染时间线视图
        function renderTimeline() {
            timelineContainer.innerHTML = '';
            dynasties.forEach((dynasty, index) => {
                const item = document.createElement('div');
                item.className = 'dynasty-timeline-item cursor-pointer p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-all';
                item.innerHTML = `
                    <div class="flex items-center space-x-4">
                        <div class="w-4 h-4 ${dynasty.color} rounded-full flex-shrink-0"></div>
                        <div class="flex-1">
                            <h3 class="text-xl font-bold text-gray-800">${dynasty.name}</h3>
                            <p class="text-gray-600">${dynasty.period}</p>
                            <p class="text-sm text-gray-500">${dynasty.description}</p>
                        </div>
                        <div class="text-right">
                            <span class="text-sm text-gray-500">历时</span>
                            <div class="font-semibold text-gray-700">${dynasty.duration}</div>
                        </div>
                    </div>
                `;
                item.addEventListener('click', () => showDynastyDetail(dynasty));
                timelineContainer.appendChild(item);
            });
        }

        // 渲染网格视图
        function renderGrid() {
            gridContainer.innerHTML = '';
            dynasties.forEach(dynasty => {
                const card = document.createElement('div');
                card.className = `dynasty-card cursor-pointer bg-white rounded-lg shadow-md p-6 ${dynasty.color} bg-opacity-10 border-l-4`;
                card.style.borderLeftColor = dynasty.color.replace('bg-', '').replace('-500', '');
                card.innerHTML = `
                    <div class="space-y-3">
                        <h3 class="text-xl font-bold text-gray-800">${dynasty.name}</h3>
                        <div class="space-y-1">
                            <p class="text-sm text-gray-600"><span class="font-medium">时期：</span>${dynasty.period}</p>
                            <p class="text-sm text-gray-600"><span class="font-medium">历时：</span>${dynasty.duration}</p>
                            <p class="text-sm text-gray-600"><span class="font-medium">都城：</span>${dynasty.capital}</p>
                            <p class="text-sm text-gray-600"><span class="font-medium">开创者：</span>${dynasty.founder}</p>
                        </div>
                        <p class="text-sm text-gray-700">${dynasty.description}</p>
                        <button class="w-full mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors">
                            查看详情
                        </button>
                    </div>
                `;
                card.addEventListener('click', () => showDynastyDetail(dynasty));
                gridContainer.appendChild(card);
            });
        }

        // 显示朝代详情
        function showDynastyDetail(dynasty) {
            modalTitle.textContent = dynasty.name;
            modalContent.innerHTML = `
                <div class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="space-y-2">
                            <p><span class="font-semibold text-gray-700">存续时期：</span>${dynasty.period}</p>
                            <p><span class="font-semibold text-gray-700">历时：</span>${dynasty.duration}</p>
                            <p><span class="font-semibold text-gray-700">都城：</span>${dynasty.capital}</p>
                            <p><span class="font-semibold text-gray-700">开创者：</span>${dynasty.founder}</p>
                        </div>
                        <div class="space-y-2">
                            <p><span class="font-semibold text-gray-700">灭亡原因：</span>${dynasty.endReason}</p>
                        </div>
                    </div>
                    
                    <div>
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">朝代简介</h4>
                        <p class="text-gray-700 leading-relaxed">${dynasty.description}</p>
                    </div>
                    
                    <div>
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">主要成就</h4>
                        <ul class="space-y-2">
                            ${dynasty.achievements.map(achievement => 
                                `<li class="flex items-start space-x-2">
                                    <span class="w-2 h-2 ${dynasty.color} rounded-full mt-2 flex-shrink-0"></span>
                                    <span class="text-gray-700">${achievement}</span>
                                </li>`
                            ).join('')}
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">著名君主</h4>
                        <div class="flex flex-wrap gap-2">
                            ${dynasty.famousRulers.map(ruler => 
                                `<span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm">${ruler}</span>`
                            ).join('')}
                        </div>
                    </div>
                </div>
            `;
            dynastyModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // 绑定事件
        function bindEvents() {
            // 视图切换
            timelineBtn.addEventListener('click', () => {
                timelineBtn.classList.add('bg-blue-500', 'text-white');
                timelineBtn.classList.remove('text-gray-600');
                gridBtn.classList.remove('bg-blue-500', 'text-white');
                gridBtn.classList.add('text-gray-600');
                timelineView.classList.remove('hidden');
                gridView.classList.add('hidden');
            });

            gridBtn.addEventListener('click', () => {
                gridBtn.classList.add('bg-blue-500', 'text-white');
                gridBtn.classList.remove('text-gray-600');
                timelineBtn.classList.remove('bg-blue-500', 'text-white');
                timelineBtn.classList.add('text-gray-600');
                gridView.classList.remove('hidden');
                timelineView.classList.add('hidden');
            });

            // 关闭模态框
            closeModal.addEventListener('click', closeDynastyModal);
            dynastyModal.addEventListener('click', (e) => {
                if (e.target === dynastyModal) {
                    closeDynastyModal();
                }
            });

            // ESC键关闭模态框
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !dynastyModal.classList.contains('hidden')) {
                    closeDynastyModal();
                }
            });
        }

        // 关闭朝代详情模态框
        function closeDynastyModal() {
            dynastyModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>